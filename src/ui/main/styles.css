/* ============================================
   ScreenAI â€” Design System & Main UI Styles
   Ref: demo-v5.html (pixel-perfect)
   ============================================ */

@import url('https://fonts.googleapis.com/css2?family=DM+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;1,400&family=JetBrains+Mono:wght@400;500&display=swap');

/* --- CSS Variables (Light Theme) --- */
:root {
  --bg: #f7f7f8;
  --bg2: #ffffff;
  --bg3: #f0f0f3;
  --bg4: #e8e8ec;
  --surf: #ffffff;
  --surfh: rgba(0,0,0,0.025);
  --bd: #e3e3e8;
  --bds: #ededf0;
  --t1: #18181b;
  --t2: #71717a;
  --t3: #a1a1aa;
  --t4: #d4d4d8;
  --ac: #7c3aed;
  --acl: #8b5cf6;
  --acbg: rgba(124,58,237,0.06);
  --acbg2: rgba(124,58,237,0.12);
  --acsh: rgba(124,58,237,0.25);
  --grn: #10b981;
  --grnbg: rgba(16,185,129,0.07);
  --red: #ef4444;
  --redbg: rgba(239,68,68,0.06);
  --org: #f59e0b;
  --orgbg: rgba(245,158,11,0.08);
  --sh-s: 0 1px 2px rgba(0,0,0,0.04);
  --sh: 0 4px 16px rgba(0,0,0,0.05);
  --sh-l: 0 12px 40px rgba(0,0,0,0.08);
  --msg-u-bg: var(--ac);
  --msg-u-c: white;
  --msg-a-bg: var(--bg2);
  --msg-a-bd: var(--bds);
  --r: 10px;
  --rl: 14px;
  --f: 'DM Sans', system-ui, sans-serif;
  --fm: 'JetBrains Mono', monospace;
}

/* --- Dark Theme --- */
body.dark {
  --bg: #0f0f13;
  --bg2: #18181f;
  --bg3: #1e1e28;
  --bg4: #282834;
  --surf: #1e1e28;
  --surfh: rgba(255,255,255,0.03);
  --bd: #2a2a36;
  --bds: #232330;
  --t1: #e4e4e7;
  --t2: #8888a0;
  --t3: #52526a;
  --t4: #3a3a4a;
  --sh-s: 0 1px 2px rgba(0,0,0,0.2);
  --sh: 0 4px 16px rgba(0,0,0,0.25);
  --sh-l: 0 12px 40px rgba(0,0,0,0.4);
  --msg-a-bg: var(--bg3);
  --msg-a-bd: var(--bd);
}

/* --- Global --- */
* { box-sizing: border-box; margin: 0; padding: 0; }

body {
  font-family: var(--f);
  background: var(--bg);
  color: var(--t1);
  height: 100vh;
  overflow: hidden;
  -webkit-font-smoothing: antialiased;
  transition: background .2s, color .2s;
}

::-webkit-scrollbar { width: 5px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: var(--bd); border-radius: 3px; }

.sai-app { display: flex; height: 100vh; }

/* ============================================
   SIDEBAR
   ============================================ */
.sb { width: 270px; min-width: 270px; background: var(--bg2); border-right: 1px solid var(--bd); display: flex; flex-direction: column; transition: background .2s; }
.sb-top { padding: 16px 16px 12px; border-bottom: 1px solid var(--bds); }
.sb-brand { display: flex; align-items: center; gap: 9px; margin-bottom: 14px; }
.logo { width: 30px; height: 30px; background: #2e1065; border-radius: 9px; display: flex; align-items: center; justify-content: center; color: #fff; font-weight: 700; font-size: 13px; box-shadow: 0 2px 8px var(--acsh); flex-shrink: 0; overflow: hidden; }
.logo svg { width: 30px; height: 30px; }
.sb-name { font-size: 16px; font-weight: 700; letter-spacing: -.4px; }
.ver { font-size: 9px; color: var(--t3); background: var(--bg3); padding: 2px 7px; border-radius: 12px; margin-left: auto; }
.bcap { width: 100%; padding: 10px; background: var(--ac); color: #fff; border: none; border-radius: var(--r); font-size: 13px; font-weight: 600; font-family: var(--f); cursor: pointer; transition: all .2s; display: flex; align-items: center; justify-content: center; gap: 7px; box-shadow: 0 2px 8px var(--acsh); }
.bcap:hover { background: var(--acl); transform: translateY(-1px); box-shadow: 0 4px 16px var(--acsh); }
.bcap svg { width: 15px; height: 15px; stroke: currentColor; fill: none; stroke-width: 2; }
.brow { display: flex; gap: 6px; margin-top: 8px; }
.bghost { flex: 1; padding: 7px; background: transparent; color: var(--t2); border: 1px solid var(--bd); border-radius: var(--r); font-size: 11px; font-weight: 500; font-family: var(--f); cursor: pointer; transition: all .12s; display: flex; align-items: center; justify-content: center; gap: 4px; }
.bghost:hover { background: var(--acbg); color: var(--ac); border-color: var(--acbg2); }
.bghost svg { width: 12px; height: 12px; stroke: currentColor; fill: none; stroke-width: 2; }

/* Search */
.sb-srch { padding: 8px 16px; }
.srch-w { position: relative; }
.srch-w svg { position: absolute; left: 10px; top: 50%; transform: translateY(-50%); width: 14px; height: 14px; stroke: var(--t3); fill: none; stroke-width: 2; pointer-events: none; }
.srch { width: 100%; padding: 8px 12px 8px 32px; background: var(--bg3); border: 1px solid transparent; border-radius: var(--r); color: var(--t1); font-size: 12px; font-family: var(--f); outline: none; transition: all .15s; }
.srch:focus { background: var(--bg2); border-color: var(--ac); box-shadow: 0 0 0 3px var(--acbg); }
.srch::placeholder { color: var(--t3); }

/* Navigation */
.sb-nav { flex: 1; overflow-y: auto; padding: 4px 8px 12px; }
.sec { margin-bottom: 4px; }
.sec-h { display: flex; align-items: center; padding: 6px 8px; cursor: pointer; user-select: none; border-radius: 6px; transition: background .1s; }
.sec-h:hover { background: var(--surfh); }
.sec-t { font-size: 10px; font-weight: 700; color: var(--t3); text-transform: uppercase; letter-spacing: .7px; flex: 1; }
.sec-h svg { width: 12px; height: 12px; stroke: var(--t3); fill: none; stroke-width: 2; transition: transform .15s; }
.sec-h.cl svg { transform: rotate(-90deg); }
.sec-items { padding-left: 4px; }
.sec-h.cl + .sec-items { display: none; }

/* Projects */
.sproj { display: flex; align-items: center; gap: 8px; padding: 7px 10px; border-radius: var(--r); cursor: pointer; transition: all .1s; margin-bottom: 1px; }
.sproj:hover { background: var(--surfh); }
.sproj.on { background: var(--acbg); color: var(--ac); }
.sproj svg { width: 16px; height: 16px; stroke: currentColor; fill: none; stroke-width: 1.6; flex-shrink: 0; }
.sproj-i { flex: 1; min-width: 0; }
.sproj-n { font-size: 13px; font-weight: 500; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.sproj-m { font-size: 10px; color: var(--t3); }

/* Conversations */
.sconv { padding: 6px 10px 6px 36px; border-radius: 8px; cursor: pointer; transition: all .1s; font-size: 12px; color: var(--t2); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; margin-bottom: 1px; }
.sconv:hover { background: var(--surfh); color: var(--t1); }
.sconv.on { background: var(--acbg); color: var(--ac); font-weight: 500; }

/* Footer */
.sb-ft { padding: 8px 12px; border-top: 1px solid var(--bds); }
.sb-ft-btn { width: 100%; padding: 7px 10px; background: transparent; border: none; border-radius: 8px; cursor: pointer; color: var(--t2); font-size: 12px; font-family: var(--f); transition: all .1s; display: flex; align-items: center; gap: 6px; text-align: left; }
.sb-ft-btn:hover { background: var(--surfh); color: var(--t1); }
.sb-ft-btn svg { width: 15px; height: 15px; stroke: currentColor; fill: none; stroke-width: 1.8; }

/* ============================================
   MAIN AREA
   ============================================ */
.mn { flex: 1; display: flex; flex-direction: column; min-width: 0; position: relative; background: var(--bg); transition: background .2s; }

/* Welcome */
.welc { flex: 1; display: flex; align-items: center; justify-content: center; flex-direction: column; gap: 20px; padding: 40px; }
.welc.hid { display: none; }
.welc-ico { width: 64px; height: 64px; background: linear-gradient(135deg, var(--ac), #a78bfa); border-radius: 18px; display: flex; align-items: center; justify-content: center; box-shadow: 0 6px 24px var(--acsh); }
.welc-ico svg { width: 32px; height: 32px; stroke: #fff; fill: none; stroke-width: 1.6; }
.welc h1 { font-size: 26px; font-weight: 700; letter-spacing: -.5px; }
.welc p { color: var(--t2); font-size: 14px; text-align: center; max-width: 420px; line-height: 1.65; }
.bcap-lg { padding: 14px 32px; font-size: 14px; border-radius: var(--rl); gap: 10px; }
.bcap-lg svg { width: 18px; height: 18px; }
.scuts { display: flex; gap: 20px; margin-top: 2px; }
.scuts div { display: flex; align-items: center; gap: 5px; font-size: 11px; color: var(--t3); }
.kbd { display: inline-block; padding: 3px 6px; background: var(--bg2); border: 1px solid var(--bd); border-radius: 5px; font-family: var(--fm); font-size: 10px; color: var(--t2); box-shadow: var(--sh-s); }

/* Project Header */
.ph { padding: 14px 24px; border-bottom: 1px solid var(--bds); background: var(--bg2); transition: background .2s; }
.ph-top { display: flex; align-items: center; gap: 8px; }
.ph h2 { font-size: 16px; font-weight: 700; letter-spacing: -.3px; }
.ib { width: 28px; height: 28px; display: flex; align-items: center; justify-content: center; background: transparent; border: none; border-radius: 7px; cursor: pointer; color: var(--t3); transition: all .1s; }
.ib:hover { background: var(--surfh); color: var(--t1); }
.ib svg { width: 14px; height: 14px; stroke: currentColor; fill: none; stroke-width: 1.8; }
.ph-desc { font-size: 12px; color: var(--t2); margin-top: 4px; line-height: 1.5; }
.ph-instr { font-size: 11px; color: var(--t3); margin-top: 8px; padding: 8px 12px; background: var(--bg3); border-radius: 8px; border-left: 3px solid var(--ac); line-height: 1.5; font-style: italic; transition: background .2s; }

/* Chat Header */
.ch { display: flex; align-items: center; gap: 8px; padding: 10px 24px; border-bottom: 1px solid var(--bds); background: var(--bg2); transition: background .2s; }
.ch-t { flex: 1; min-width: 0; }
.ch-t h3 { font-size: 14px; font-weight: 600; letter-spacing: -.2px; }
.badge { display: inline-block; font-size: 10px; font-weight: 600; color: var(--ac); background: var(--acbg); padding: 3px 10px; border-radius: 20px; margin-top: 2px; }

/* Chat Messages */
.chat { flex: 1; display: none; flex-direction: column; overflow: hidden; }
.chat.on { display: flex; }
.msgs { flex: 1; overflow-y: auto; padding: 18px 24px; display: flex; flex-direction: column; gap: 12px; }
.msg { max-width: 75%; border-radius: var(--rl); padding: 11px 16px; font-size: 13px; line-height: 1.65; animation: mi .2s ease; }
@keyframes mi { from { opacity: 0; transform: translateY(4px); } to { opacity: 1; transform: translateY(0); } }
.mu { align-self: flex-end; background: var(--msg-u-bg); color: var(--msg-u-c); border-bottom-right-radius: 4px; box-shadow: 0 2px 8px var(--acsh); }
.ma { align-self: flex-start; background: var(--msg-a-bg); border: 1px solid var(--msg-a-bd); border-bottom-left-radius: 4px; box-shadow: var(--sh-s); transition: background .2s; }
.ma strong { color: var(--ac); }
.ma code { background: var(--acbg); color: var(--ac); padding: 1px 6px; border-radius: 5px; font-family: var(--fm); font-size: 11.5px; }
.mcode { background: var(--bg3); border-radius: 8px; padding: 10px 12px; font-family: var(--fm); font-size: 11.5px; margin: 8px 0; border: 1px solid var(--bds); line-height: 1.5; transition: background .2s; }
.msg p { margin-bottom: 6px; }
.msg p:last-child { margin-bottom: 0; }
.mimg { display: block; max-width: 100%; max-height: 120px; border-radius: 8px; margin-bottom: 8px; border: 1px solid var(--bd); cursor: pointer; transition: opacity .12s; }
.mimg:hover { opacity: .85; }

/* Input Bar */
.ibar { padding: 12px 24px; border-top: 1px solid var(--bds); background: var(--bg2); transition: background .2s; }
.irow { display: flex; gap: 8px; align-items: flex-end; }
.itx { flex: 1; padding: 10px 14px; background: var(--bg); border: 1px solid var(--bd); border-radius: var(--r); color: var(--t1); font-size: 13px; font-family: var(--f); resize: none; outline: none; transition: all .15s; line-height: 1.5; }
.itx:focus { border-color: var(--ac); box-shadow: 0 0 0 3px var(--acbg); }
.itx::placeholder { color: var(--t3); }
.itools { display: flex; gap: 4px; }
.it { width: 36px; height: 36px; display: flex; align-items: center; justify-content: center; background: var(--bg); border: 1px solid var(--bd); border-radius: var(--r); cursor: pointer; color: var(--t2); transition: all .12s; }
.it:hover { background: var(--acbg); color: var(--ac); border-color: var(--acbg2); }
.it svg { width: 15px; height: 15px; stroke: currentColor; fill: none; stroke-width: 1.8; }
.it.pr { background: var(--ac); color: #fff; border-color: var(--ac); }
.it.pr:hover { background: var(--acl); }
.imeta { display: flex; align-items: center; gap: 8px; margin-top: 7px; font-size: 10px; color: var(--t3); flex-wrap: wrap; }
.chip { display: inline-flex; align-items: center; gap: 3px; background: var(--grnbg); color: var(--grn); padding: 3px 8px; border-radius: 20px; font-weight: 600; }
.quota { display: inline-flex; align-items: center; gap: 3px; background: var(--acbg); color: var(--ac); padding: 3px 8px; border-radius: 20px; font-weight: 600; }

/* ============================================
   SETTINGS SLIDE-OVER
   ============================================ */
.so { position: absolute; inset: 0; background: rgba(0,0,0,0.12); backdrop-filter: blur(2px); z-index: 100; opacity: 0; pointer-events: none; transition: opacity .2s; }
.so.op { opacity: 1; pointer-events: all; }
.sod { position: absolute; top: 0; right: 0; bottom: 0; width: 380px; background: var(--bg2); border-left: 1px solid var(--bd); transform: translateX(100%); transition: transform .25s cubic-bezier(.4,0,.2,1), background .2s; display: flex; flex-direction: column; z-index: 101; box-shadow: -8px 0 32px rgba(0,0,0,0.05); }
.so.op .sod { transform: translateX(0); }
.soh { display: flex; align-items: center; gap: 8px; padding: 14px 18px; border-bottom: 1px solid var(--bds); }
.soh h3 { flex: 1; font-size: 14px; font-weight: 700; }
.sob { flex: 1; overflow-y: auto; padding: 16px 18px; }

/* Settings Sections */
.ss { margin-bottom: 20px; }
.sst { font-size: 10px; font-weight: 700; color: var(--t3); text-transform: uppercase; letter-spacing: .7px; margin-bottom: 8px; }
.sr { display: flex; align-items: center; justify-content: space-between; padding: 9px 12px; background: var(--bg); border: 1px solid var(--bds); border-radius: var(--r); margin-bottom: 4px; transition: background .2s; }
.sl { font-size: 12px; font-weight: 500; }
.sd { font-size: 10px; color: var(--t3); margin-top: 2px; line-height: 1.4; }
.s-l { flex: 1; min-width: 0; }
.sel { padding: 5px 24px 5px 8px; background: var(--bg2); border: 1px solid var(--bd); border-radius: 6px; color: var(--t1); font-size: 11px; font-family: var(--f); outline: none; cursor: pointer; appearance: none; background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='5'%3E%3Cpath d='M0 0l4 4 4-4' stroke='%23a1a1aa' fill='none' stroke-width='1.2'/%3E%3C/svg%3E"); background-repeat: no-repeat; background-position: right 7px center; }
.si { width: 100%; padding: 5px 8px; background: var(--bg2); border: 1px solid var(--bd); border-radius: 6px; color: var(--t1); font-size: 11px; font-family: var(--f); outline: none; }

/* Toggle */
.tgl { position: relative; width: 38px; height: 22px; flex-shrink: 0; }
.tgl input { opacity: 0; width: 0; height: 0; position: absolute; }
.tgt { position: absolute; inset: 0; background: var(--t4); border-radius: 22px; cursor: pointer; transition: background .2s; }
.tgt::before { content: ''; position: absolute; width: 16px; height: 16px; left: 3px; top: 3px; background: #fff; border-radius: 50%; transition: transform .2s; box-shadow: 0 1px 3px rgba(0,0,0,0.12); }
.tgl input:checked + .tgt { background: var(--ac); }
.tgl input:checked + .tgt::before { transform: translateX(16px); }

/* Provider Cards */
.pc { background: var(--bg); border: 1px solid var(--bds); border-radius: var(--r); padding: 12px; margin-bottom: 5px; transition: background .2s; }
.pch { display: flex; align-items: center; justify-content: space-between; margin-bottom: 8px; }
.pcn { font-size: 12px; font-weight: 600; }
.pcf { display: flex; flex-direction: column; gap: 5px; }
.pcf.disabled { opacity: 0.4; pointer-events: none; }
.fl { font-size: 9px; font-weight: 700; color: var(--t3); text-transform: uppercase; letter-spacing: .5px; margin-bottom: 2px; }
.pta { width: 100%; min-height: 60px; padding: 8px 10px; background: var(--bg); border: 1px solid var(--bd); border-radius: 7px; color: var(--t1); font-size: 11px; font-family: var(--f); resize: vertical; outline: none; line-height: 1.5; transition: background .2s; }

/* Theme Options */
.th-row { display: flex; gap: 5px; }
.th-o { flex: 1; padding: 7px; text-align: center; font-size: 11px; font-weight: 500; background: var(--bg); border: 1px solid var(--bd); border-radius: 7px; cursor: pointer; color: var(--t2); transition: all .12s; }
.th-o:hover { border-color: var(--t3); }
.th-o.on { border-color: var(--ac); color: var(--ac); background: var(--acbg); }

/* Accent Colors */
.ac-row { display: flex; gap: 6px; }
.ac-o { width: 24px; height: 24px; border-radius: 50%; border: 2.5px solid transparent; cursor: pointer; transition: all .12s; }
.ac-o:hover { transform: scale(1.12); }
.ac-o.on { border-color: var(--t1); box-shadow: 0 0 0 2px var(--bg); }

/* Save Button */
.bsv { width: 100%; padding: 10px; background: var(--ac); color: #fff; border: none; border-radius: var(--r); font-size: 13px; font-weight: 600; font-family: var(--f); cursor: pointer; transition: all .15s; margin-top: 6px; }
.bsv:hover { background: var(--acl); }

/* Keyboard Shortcuts Display */
.kbd-combo { display: flex; gap: 3px; }

/* ============================================
   MODALS
   ============================================ */
.mov { position: fixed; inset: 0; background: rgba(0,0,0,0.25); backdrop-filter: blur(4px); z-index: 200; display: none; align-items: center; justify-content: center; }
.mov.op { display: flex; }
.mod { background: var(--bg2); border: 1px solid var(--bd); border-radius: var(--rl); padding: 24px; width: 440px; max-width: 90vw; box-shadow: var(--sh-l); transition: background .2s; }
.mod h3 { font-size: 16px; font-weight: 700; margin-bottom: 16px; }
.mf { margin-bottom: 12px; }
.mf label { display: block; font-size: 10px; font-weight: 600; color: var(--t2); text-transform: uppercase; letter-spacing: .5px; margin-bottom: 5px; }
.minp { width: 100%; padding: 9px 12px; background: var(--bg); border: 1px solid var(--bd); border-radius: 8px; color: var(--t1); font-size: 13px; font-family: var(--f); outline: none; transition: all .15s; }
.minp:focus { border-color: var(--ac); box-shadow: 0 0 0 3px var(--acbg); }
.mta { width: 100%; min-height: 65px; padding: 9px 12px; background: var(--bg); border: 1px solid var(--bd); border-radius: 8px; color: var(--t1); font-size: 13px; font-family: var(--f); outline: none; resize: vertical; line-height: 1.5; transition: all .15s; }
.mta:focus { border-color: var(--ac); box-shadow: 0 0 0 3px var(--acbg); }
.msel { width: 100%; padding: 9px 12px; background: var(--bg); border: 1px solid var(--bd); border-radius: 8px; color: var(--t1); font-size: 13px; font-family: var(--f); outline: none; cursor: pointer; appearance: none; background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='10' height='6'%3E%3Cpath d='M1 1l4 4 4-4' stroke='%23a1a1aa' fill='none' stroke-width='1.5'/%3E%3C/svg%3E"); background-repeat: no-repeat; background-position: right 12px center; }
.mact { display: flex; gap: 8px; justify-content: flex-end; margin-top: 16px; }
.mb { padding: 9px 20px; border-radius: var(--r); border: none; font-size: 13px; font-weight: 600; font-family: var(--f); cursor: pointer; transition: all .15s; }
.mbc { background: var(--bg3); color: var(--t2); }
.mbc:hover { background: var(--bg4); }
.mbp { background: var(--ac); color: #fff; }
.mbp:hover { background: var(--acl); }

/* ============================================
   CONTEXT MENU
   ============================================ */
.ctx { position: fixed; background: var(--bg2); border: 1px solid var(--bd); border-radius: var(--r); padding: 4px; box-shadow: var(--sh-l); z-index: 300; min-width: 160px; display: none; transition: background .2s; }
.ctx.op { display: block; }
.ctx-i { display: block; width: 100%; padding: 7px 12px; background: none; border: none; border-radius: 6px; color: var(--t1); font-size: 12px; font-family: var(--f); cursor: pointer; text-align: left; transition: background .1s; }
.ctx-i:hover { background: var(--bg3); }
.ctx-i.dng { color: var(--red); }
.ctx-i.dng:hover { background: var(--redbg); }

/* ============================================
   AUTH SCREENS
   ============================================ */
.auth-screen { display: flex; align-items: center; justify-content: center; height: 100vh; background: var(--bg); }
.auth-card { background: var(--bg2); border: 1px solid var(--bd); border-radius: var(--rl); padding: 32px; width: 400px; max-width: 90vw; box-shadow: var(--sh-l); }
.auth-card h2 { font-size: 20px; font-weight: 700; margin-bottom: 4px; text-align: center; }
.auth-card .auth-sub { font-size: 13px; color: var(--t2); text-align: center; margin-bottom: 20px; }
.auth-card .mf { margin-bottom: 14px; }
.auth-sep { display: flex; align-items: center; gap: 12px; margin: 16px 0; color: var(--t3); font-size: 11px; }
.auth-sep::before, .auth-sep::after { content: ''; flex: 1; height: 1px; background: var(--bd); }
.auth-google { width: 100%; padding: 10px; background: var(--bg); border: 1px solid var(--bd); border-radius: var(--r); font-size: 13px; font-weight: 500; font-family: var(--f); cursor: pointer; transition: all .15s; display: flex; align-items: center; justify-content: center; gap: 8px; color: var(--t1); }
.auth-google:hover { background: var(--bg3); }
.auth-link { font-size: 12px; color: var(--ac); cursor: pointer; text-decoration: none; }
.auth-link:hover { text-decoration: underline; }
.auth-footer { text-align: center; margin-top: 16px; font-size: 12px; color: var(--t2); }
.auth-skip { display: block; text-align: center; margin-top: 12px; font-size: 11px; color: var(--t3); cursor: pointer; }
.auth-skip:hover { color: var(--t2); }
.auth-error { background: var(--redbg); color: var(--red); padding: 8px 12px; border-radius: 8px; font-size: 12px; margin-bottom: 12px; display: none; }
.auth-error.show { display: block; }
.auth-success { background: var(--grnbg); color: var(--grn); padding: 8px 12px; border-radius: 8px; font-size: 12px; margin-bottom: 12px; text-align: center; }

/* ============================================
   EMPTY STATES
   ============================================ */
.empty-state { padding: 24px 16px; text-align: center; color: var(--t3); font-size: 12px; line-height: 1.5; }
.empty-state svg { width: 32px; height: 32px; stroke: var(--t4); fill: none; stroke-width: 1.5; margin-bottom: 8px; }

/* ============================================
   LIGHTBOX (image viewer)
   ============================================ */
.lightbox { position: fixed; inset: 0; background: rgba(0,0,0,0.8); z-index: 400; display: none; align-items: center; justify-content: center; cursor: pointer; }
.lightbox.op { display: flex; }
.lightbox img { max-width: 90vw; max-height: 90vh; border-radius: 8px; box-shadow: 0 8px 32px rgba(0,0,0,0.5); }

/* ============================================
   UTILITY
   ============================================ */
.beta { font-size: 9px; font-weight: 700; color: var(--org); background: var(--orgbg); padding: 2px 7px; border-radius: 12px; margin-left: 5px; }
.streaming-cursor::after { content: '\u258C'; animation: blink 1s infinite; color: var(--ac); }
@keyframes blink { 0%, 50% { opacity: 1; } 51%, 100% { opacity: 0; } }

/* ============================================
   UPDATE UI
   ============================================ */
.upd-btn { width: 100%; padding: 8px 12px; background: var(--bg2); border: 1px solid var(--bd); border-radius: var(--r); font-size: 12px; font-weight: 500; font-family: var(--f); cursor: pointer; color: var(--t2); transition: all .15s; display: flex; align-items: center; justify-content: center; gap: 6px; }
.upd-btn:hover { background: var(--acbg); color: var(--ac); border-color: var(--acbg2); }
.upd-btn:disabled { opacity: 0.5; cursor: not-allowed; }
.upd-btn svg { width: 14px; height: 14px; stroke: currentColor; fill: none; }
.upd-status { font-size: 12px; padding: 8px 0; }
.upd-checking { color: var(--t2); }
.upd-ok { color: var(--grn); font-weight: 500; }
.upd-err { color: var(--red); font-weight: 500; }
.upd-avail { display: flex; flex-direction: column; gap: 8px; }
.upd-avail-text { font-size: 12px; color: var(--t1); line-height: 1.5; }
.upd-install-btn { padding: 8px 16px; background: var(--ac); color: #fff; border: none; border-radius: var(--r); font-size: 12px; font-weight: 600; font-family: var(--f); cursor: pointer; transition: all .15s; display: flex; align-items: center; justify-content: center; gap: 6px; }
.upd-install-btn:hover { background: var(--acl); }
.upd-install-btn svg { width: 14px; height: 14px; stroke: currentColor; fill: none; }

/* Editable Shortcuts */
.kbd-editable { cursor: pointer; transition: all .12s; padding: 2px 4px; border-radius: 6px; }
.kbd-editable:hover { background: var(--acbg); }
.kbd-recording { background: var(--acbg) !important; color: var(--ac) !important; border-color: var(--ac) !important; animation: pulse-record 1s infinite; font-size: 10px !important; }
@keyframes pulse-record { 0%, 100% { opacity: 1; } 50% { opacity: 0.6; } }

/* Update Toast (desktop only) */
.update-toast { position: fixed; bottom: 20px; right: 20px; z-index: 500; background: var(--bg2); border: 1px solid var(--bd); border-radius: var(--rl); padding: 16px 20px; box-shadow: var(--sh-l); max-width: 360px; animation: toast-in .3s ease; }
@keyframes toast-in { from { opacity: 0; transform: translateY(12px); } to { opacity: 1; transform: translateY(0); } }
.update-toast-content strong { font-size: 14px; display: block; margin-bottom: 4px; }
.update-toast-content p { font-size: 12px; color: var(--t2); line-height: 1.5; margin-bottom: 12px; }
.update-toast-actions { display: flex; gap: 8px; }
.update-toast-btn { padding: 7px 14px; border-radius: var(--r); border: 1px solid var(--bd); background: var(--bg3); font-size: 12px; font-weight: 500; font-family: var(--f); cursor: pointer; color: var(--t2); transition: all .12s; }
.update-toast-btn:hover { background: var(--bg4); }
.update-toast-btn.primary { background: var(--ac); color: #fff; border-color: var(--ac); }
.update-toast-btn.primary:hover { background: var(--acl); }
